function declOfNum(a,e){return cases=[2,0,1,1,1,2],e[a%100>4&&a%100<20?2:cases[a%10<5?a%10:5]]}function calculateDate(){var a=moment($("[name=firstDate]").val()),e=moment($("[name=secondDate]").val()),t=Math.abs(a.diff(e,"years")),l=Math.abs(a.diff(e,"months"))%12;if(a<e)var n=a.add({years:t,months:l});else n=a.subtract({years:t,months:l});var s=Math.abs(n.diff(e,"days"));$("#result").text("Между датами прошло: "+t+" "+declOfNum(t,["год","года","лет"])+" "+l+" "+declOfNum(l,["месяц","месяца","месяцев"])+" "+s+" "+declOfNum(t,["день","дня","дней"])),window.localStorage.setItem("firstDate",$("[name=firstDate]").val())}function loadCalc(){$("[name=secondDate]").val(moment().format("YYYY-MM-DD"));window.localStorage.getItem("firstDate").length>0&&$("[name=firstDate]").val(window.localStorage.getItem("firstDate")),calculateDate()}$(":input").change(calculateDate),$(document).ready(loadCalc);